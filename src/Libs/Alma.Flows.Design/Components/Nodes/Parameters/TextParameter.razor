@using Alma.Flows.Core.Description.Descriptors
@using Microsoft.AspNetCore.Components.Web
@using MudBlazor

<MudTextField Label="@Parameter.DisplayName"
              Value="@Node.GetParameterValue(Parameter.Name)"
              ValueChanged="@((string s) => HandleValueChanged(s))"
              Variant="Variant.Outlined" Margin="Margin.Dense"
              Style="min-width: 250px;"
              Disabled="@Disabled" />

@code {
    [CascadingParameter]
    public ActivityNodeModel Node { get; set; } = null!;

    [Parameter]
    public ParameterDescriptor Parameter { get; set; } = null!;

    [Parameter]
    public bool Disabled { get; set; }

    private void HandleValueChanged(string value)
    {
        Node.ChangeParameterValue(Parameter.Name, value);
    }
}
