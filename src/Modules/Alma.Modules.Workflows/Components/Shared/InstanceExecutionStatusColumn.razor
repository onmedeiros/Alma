@using Alma.Workflows.Core.InstanceExecutions.Enums

@inherits TemplateColumn<T>
@typeparam T

@code {
    [Parameter]
    public Func<CellContext<T>, InstanceExecutionStatus>? Parameter { get; set; }

    protected override void OnParametersSet()
    {
        if (Parameter is null)
            return;

        base.CellTemplate = context => builder =>
        {
            var status = Parameter(context);

            builder.OpenComponent<InstanceExecutionStatusChip>(0);

            builder.AddAttribute(1, "Status", status);

            builder.CloseComponent();
        };
    }

}
